"use strict";(self["webpackChunkpandora"]=self["webpackChunkpandora"]||[]).push([[207],{5207:function(e,a,n){n.r(a),n.d(a,{default:function(){return W}});var t=n(6252),o=n(3577);const l=["innerHTML"],i=(0,t.Uk)(" Selecciona tu respuesta "),u={key:1},r={key:2},s=(0,t.Uk)(" Enviar Respuesta ");function d(e,a,n,d,c,p){const g=(0,t.up)("ion-icon"),m=(0,t.up)("ion-button"),w=(0,t.up)("ion-buttons"),f=(0,t.up)("ion-toolbar"),v=(0,t.up)("ion-header"),_=(0,t.up)("ion-card-title"),k=(0,t.up)("ion-card-subtitle"),h=(0,t.up)("ion-card-header"),I=(0,t.up)("ion-card"),W=(0,t.up)("ion-img"),O=(0,t.up)("ion-item"),b=(0,t.up)("ion-label"),y=(0,t.up)("ion-radio"),j=(0,t.up)("ion-radio-group"),H=(0,t.up)("ion-list"),q=(0,t.up)("ion-content"),C=(0,t.up)("ion-page");return(0,t.wg)(),(0,t.j4)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{slot:"start",class:"ion-margin-start"},{default:(0,t.w5)((()=>[0!=d.pregunta.cuestionario_id?((0,t.wg)(),(0,t.j4)(m,{key:0,href:"cuestionario/"+d.pregunta.cuestionario_id},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{icon:d.arrowBackOutline},null,8,["icon"])])),_:1},8,["href"])):(0,t.kq)("",!0)])),_:1}),1==d.resVisible?((0,t.wg)(),(0,t.j4)(w,{key:0,slot:"end",class:"ion-margin-end"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{href:"resultado/"+d.pregunta.id},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{icon:d.podiumOutline},null,8,["icon"])])),_:1},8,["href"])])),_:1})):(0,t.kq)("",!0)])),_:1})])),_:1}),(0,t.Wm)(q,{fullscreen:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(I,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,{class:"ion-text-center"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(d.pregunta.titulo),1)])),_:1}),(0,t.Wm)(k,{class:"ion-text-center"},{default:(0,t.w5)((()=>[(0,t.Uk)(" Esta pregunta vale: + "+(0,o.zw)(d.pregunta.valor)+" puntos, "+(0,o.zw)(d.countDown),1)])),_:1}),(0,t.Wm)(g,{slot:"end",icon:d.createOutline},null,8,["icon"])])),_:1})])),_:1}),d.pregunta.photo?((0,t.wg)(),(0,t.j4)(I,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{src:d.basedeURL+d.pregunta.photo},null,8,["src"])])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(I,null,{default:(0,t.w5)((()=>[(0,t._)("div",{class:"ion-padding",innerHTML:d.pregunta.enunciado},null,8,l),d.admin?((0,t.wg)(),(0,t.j4)(O,{key:0,button:"",href:"editar/pregunta/"+d.pregunta.id},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{slot:"end",icon:d.createOutline},null,8,["icon"])])),_:1},8,["href"])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(I,{class:"ion-padding-top ion-padding-bottom"},{default:(0,t.w5)((()=>[0===d.error.estatus?((0,t.wg)(),(0,t.j4)(k,{key:0,class:"ion-text-center"},{default:(0,t.w5)((()=>[i])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(H,null,{default:(0,t.w5)((()=>[1===d.error.estatus?((0,t.wg)(),(0,t.j4)(O,{key:0,color:"danger"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(d.error.data),1)])),_:1})])),_:1})):(0,t.kq)("",!0),d.admin?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",u,[(0,t.Wm)(j,{modelValue:d.respuesta.opcion_id,"onUpdate:modelValue":a[0]||(a[0]=e=>d.respuesta.opcion_id=e)},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(d.pregunta.opciones,(e=>((0,t.wg)(),(0,t.j4)(O,{lines:"none",key:e.id},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{class:"ion-text-wrap"},{default:(0,t.w5)((()=>[(0,t._)("b",null,(0,o.zw)(e.letra)+". ",1),(0,t.Uk)(" "+(0,o.zw)(e.enunciado),1)])),_:2},1024),(0,t.Wm)(y,{slot:"start",value:e.id,id:e.id},null,8,["value","id"])])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),d.admin?((0,t.wg)(),(0,t.iD)("div",r,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(d.pregunta.opciones,(e=>((0,t.wg)(),(0,t.j4)(O,{button:"",lines:"none",key:e.id,href:"editar/opcion/"+e.id},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{class:"ion-text-wrap"},{default:(0,t.w5)((()=>[(0,t._)("b",null,(0,o.zw)(e.letra)+". ",1),(0,t.Uk)(" "+(0,o.zw)(e.enunciado),1)])),_:2},1024),1==e.correcto?((0,t.wg)(),(0,t.j4)(g,{key:0,slot:"start",color:"success",icon:d.createOutline},null,8,["icon"])):(0,t.kq)("",!0),0==e.correcto?((0,t.wg)(),(0,t.j4)(g,{key:1,slot:"start",icon:d.createOutline},null,8,["icon"])):(0,t.kq)("",!0)])),_:2},1032,["href"])))),128))])):(0,t.kq)("",!0)])),_:1})])),_:1}),d.admin?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(w,{key:1,class:"ion-justify-content-center ion-padding-top ion-padding-bottom"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{id:"enviarRespuesta",expand:"full",fill:"outline",shape:"round",color:"primary",class:"ion-align-self-center",onClick:d.responder},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{slot:"end",icon:d.paperPlaneOutline},null,8,["icon"]),(0,t.Wm)(b,{class:"ion-text-center"},{default:(0,t.w5)((()=>[s])),_:1})])),_:1},8,["onClick"])])),_:1})),d.admin?((0,t.wg)(),(0,t.j4)(w,{key:2,class:"ion-justify-content-center ion-padding-top ion-padding-bottom"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{expand:"full",fill:"outline",shape:"round",color:"medium",class:"ion-align-self-center",href:"crear/opcion/"+d.pregunta.id},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{icon:d.addOutline},null,8,["icon"])])),_:1},8,["href"])])),_:1})):(0,t.kq)("",!0)])),_:1})])),_:1})}var c=n(9669),p=n.n(c),g=n(2262),m=n(6886),w=n(2119),f=n(1853),v=n(8903),_=n(1502),k={components:{IonList:_.q_,IonLabel:_.Q$,IonItem:_.Ie,IonHeader:_.Gu,IonToolbar:_.sr,IonContent:_.W2,IonPage:_._i,IonIcon:_.gu,IonButtons:_.Sm,IonButton:_.YG,IonCard:_.PM,IonCardHeader:_.Zi,IonCardTitle:_.Dq,IonImg:_.Xz,IonRadioGroup:_.se,IonRadio:_.B7,IonCardSubtitle:_.tO},setup(){const e=(0,m.Q$)(),a=(0,w.yj)(),{id:n}=a.params,t=(0,g.iH)({id:"",valor:"",enunciado:"",tiempo:"",cuestionario_id:0,opciones:{enunciado:""}}),o=(0,g.iH)(""),l=(0,g.iH)({opcion_id:"",pregunta_id:"",grupo_id:"",user_id:"",existe:0}),i=(0,g.iH)([]),u=(0,g.iH)({estatus:0,data:""}),r=(0,g.iH)(0),s=(0,g.iH)(""),d=(0,g.iH)(0),c=(0,g.iH)(0);return(0,_.Yr)((async()=>{(0,m.rs)(),p().create({headers:{"Access-Control-Allow-Origin":"*"}}),await p().get("/preguntas/"+n).then((e=>{t.value=e.data,c.value=t.value.tiempo,t.value.photo||(o.value=(0,m.w2)("thumbnail"));var a=new RegExp("<p></p>","g");t.value.enunciado=t.value.enunciado.replace(a,"</br>")})),p().create({headers:{"Access-Control-Allow-Origin":"*"}}),await p().get("/respuestas/pregunta/"+n).then((a=>{i.value=a.data,i.value.forEach((function(a){(a.grupo_id==(0,m.am)().grupo_id||e)&&(r.value=1)}))})),e&&(r.value=1),d.value=setInterval((function(){if(c.value<=0&!e&0==r.value){const e=Math.floor(Math.random()*(t.value.opciones.length-1));t.value.opciones[e]&&(l.value.opcion_id=t.value.opciones[e].id,document.getElementById("enviarRespuesta").click())}else c.value<=0?(clearInterval(this.downloadTimer),s.value="¡Responde!"):s.value="Tienes "+c.value+" segundos para responder";null!=localStorage.getItem("timerOf"+t.value.id)&c.value==parseInt(localStorage.getItem("timerOf"+t.value.id))?(c.value-=1,localStorage.setItem("timerOf"+t.value.id,parseInt(c.value))):null==localStorage.getItem("timerOf"+t.value.id)?localStorage.setItem("timerOf"+t.value.id,parseInt(c.value)):c.value=localStorage.getItem("timerOf"+t.value.id)}),1e3)})),{countDown:s,timeleft:c,resVisible:r,pregunta:t,async responder(){""==l.value.opcion_id?(u.value.estatus=1,u.value.data="Debe seleccionar una opción."):(l.value.pregunta_id=t.value.id,l.value.grupo_id=(0,m.am)().grupo_id,l.value.user_id=(0,m.am)().id,l.value.existe=1,p().create({headers:{"Access-Control-Allow-Origin":"*"}}),await p().post("/respuestas",l.value).then((e=>{f.Z.push("/resultado/"+t.value.id),localStorage.setItem("error",e.data.message)})).catch((e=>{localStorage.setItem("error",e.message),u.value.estatus=1,u.value.data="Error: ya respondiste la pregunta o no se te permite responder"})))},basedeURL:(0,m.eO)(),admin:e,error:u,respuesta:l,arrowBackOutline:v.Pjk,handLeftOutline:v.bB7,refreshOutline:v.D3P,paperPlaneOutline:v.I88,podiumOutline:v.RL4,createOutline:v.mjL,addOutline:v.s6O}}},h=n(3744);const I=(0,h.Z)(k,[["render",d]]);var W=I}}]);
//# sourceMappingURL=207.a5a30cf9.js.map