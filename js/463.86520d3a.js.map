{"version":3,"file":"js/463.86520d3a.js","mappings":"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","sources":["webpack://pandora/./src/views/CrearOpcion.vue","webpack://pandora/./src/views/CrearOpcion.vue?5872"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-header>\n      <ion-toolbar>\n        <ion-buttons slot=\"start\">\n          <ion-button v-if=\"pregunta\" :href=\"'/pregunta/' + pregunta\">\n            <ion-icon :icon=\"arrowBackOutline\"></ion-icon>\n          </ion-button>\n          <ion-button v-if=\"id\" :href=\"'/pregunta/' + opcion.pregunta_id\">\n            <ion-icon :icon=\"arrowBackOutline\"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n        <ion-buttons slot=\"end\">\n          <ion-button @click=\"crearOpcion\">\n            <ion-icon :icon=\"checkmarkOutline\"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n        <ion-title>Opción</ion-title>\n      </ion-toolbar>\n    </ion-header>\n    <ion-content>\n      <div v-if=\"opcion != null\" :fullscreen=\"true\">\n        <ion-list>\n          <ion-item v-if=\"error.estatus == 1\">\n            <ion-label :color=\"error.color\">{{ error.data }}</ion-label>\n          </ion-item>\n\n          <ion-item>\n            <ion-label position=\"stacked\">Letra o Identificador</ion-label>\n            <ion-input v-model=\"opcion.letra\" type=\"text\"></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-label position=\"stacked\">Enunciado</ion-label>\n            <ion-input v-model=\"opcion.enunciado\" type=\"text\"></ion-input>\n          </ion-item>\n          <ion-item>\n            <ion-label position=\"stacked\"\n              >Marcar opción como correcta:</ion-label\n            >\n            <ion-toggle\n              slot=\"end\"\n              :checked=\"opcion.correcto\"\n              v-model=\"opcion.correcto\"\n            >\n            </ion-toggle>\n          </ion-item>\n         <ion-item class=\"ion-text-center\" v-if=\"id && opcion.existe == 1\"  button color=\"danger\" @click=\"borrarOpcion(0)\" >\n          <ion-label >Borrar Opción</ion-label>\n        </ion-item>\n        <ion-item class=\"ion-text-center\" v-if=\"id && opcion.existe == 0\"  button color=\"success\" @click=\"borrarOpcion(1)\" >\n          <ion-label >Recuperar Opción</ion-label>\n        </ion-item>\n        </ion-list>\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n<script>\nimport axios from \"axios\";\nimport { ref } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport router from \"../router\";\n\nimport { usuarioGet, tokenHeader } from \"../globalService\";\nimport {\n  onIonViewWillEnter,\n  IonToggle,\n  IonLabel,\n  IonItem,\n  IonList,\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonInput,\n  IonIcon,\n  IonButton,\n  IonButtons,\n} from \"@ionic/vue\";\n\nimport { arrowBackOutline, checkmarkOutline } from \"ionicons/icons\";\n\nexport default {\n  components: {\n    IonButton,\n    IonButtons,\n    IonToggle,\n    IonIcon,\n    IonHeader,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n    IonPage,\n    IonList,\n    IonItem,\n    IonLabel,\n    IonInput,\n  },\n  setup() {\n    const mroute = useRoute();\n    const { pregunta } = mroute.params;\n    const { id } = mroute.params;\n    const opcion = ref({\n      id: 0,\n      pregunta_id: 0,\n    });\n    const error = ref({\n      estatus: 0,\n      data: \"\",\n      color: \"\",\n    });\n\n    let usuario = usuarioGet();\n\n    onIonViewWillEnter(async () => {\n      tokenHeader();\n      if (id != undefined) {\n        await axios.get(\"/opciones/\" + id).then((response) => {\n          opcion.value = response.data;\n        });\n      }\n      if (pregunta != undefined) {\n        opcion.value = {\n          enunciado: \"\",\n          correcto: 0,\n          letra: \"\",\n          pregunta_id: \"\",\n          existe: 1\n        };\n      }\n    });\n\n    return {\n      borrarOpcion(valor){\n        opcion.value.existe = valor;\n        this.crearOpcion();\n      }, \n      async crearOpcion() {\n        if (opcion.value.letra == \"\" || opcion.value.enunciado == \"\") {\n          error.value.estatus = 1;\n          error.value.data = \"Debe seleccionar una fecha y añadir el tema\";\n        } else if (pregunta != undefined) {\n          opcion.value.pregunta_id = pregunta;\n          await axios\n            .post(\"/opciones\", opcion.value)\n            .then((response) => {\n              router.push(\"/pregunta/\" + pregunta);\n              localStorage.setItem(\"error\", response.data.message);\n            })\n            .catch((response) => {\n              localStorage.setItem(\"error\", response.message);\n              error.value.estatus = 1;\n              error.value.color = \"danger\";\n              error.value.data = \"Error: no se pudo añadir el cuestionario\";\n            });\n        } else if (id != undefined) {\n          await axios\n            .put(\"/opciones/\" + id, opcion.value)\n            .then((response) => {\n              error.value.estatus = 1;\n              error.value.data = \"Opcion actualizada\";\n              error.value.color = \"success\";\n              localStorage.setItem(\"error\", response.data.message);\n              setTimeout(function () {\n                router.push(\"/pregunta/\" + opcion.value.pregunta_id);\n              }, 500);\n            })\n            .catch((response) => {\n              localStorage.setItem(\"error\", response.message);\n              error.value.estatus = 1;\n              error.value.color = \"danger\";\n              error.value.data = \"Error: no se pudo actualizar el cuestionario\";\n            });\n        }\n      },\n      arrowBackOutline,\n      pregunta,\n      id,\n      usuario,\n      error,\n      opcion,\n      checkmarkOutline,\n    };\n  },\n};\n</script>\n","import { render } from \"./CrearOpcion.vue?vue&type=template&id=6adb608f\"\nimport script from \"./CrearOpcion.vue?vue&type=script&lang=js\"\nexport * from \"./CrearOpcion.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ruben/Descargas/pandora-eprx8v/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["fullscreen","slot","pregunta","href","icon","arrowBackOutline","id","opcion","pregunta_id","crearOpcion","checkmarkOutline","error","estatus","color","data","position","letra","type","enunciado","checked","correcto","existe","class","button","borrarOpcion","components","IonButton","IonButtons","IonToggle","IonIcon","IonHeader","IonToolbar","IonTitle","IonContent","IonPage","IonList","IonItem","IonLabel","IonInput","setup","mroute","params","usuario","async","undefined","then","response","value","valor","this","router","localStorage","setItem","message","catch","setTimeout","__exports__","render"],"sourceRoot":""}