"use strict";(self["webpackChunkpandora"]=self["webpackChunkpandora"]||[]).push([[629],{629:function(e,a,o){o.r(a),o.d(a,{default:function(){return C}});var t=o(6252),u=o(3577);const r=(0,t.Uk)("Cuestionario"),i={key:0,fullscreen:!0},n=(0,t.Uk)("Fecha"),l=(0,t.Uk)("Tema"),s=(0,t.Uk)("Borrar Cuestionario"),c=(0,t.Uk)("Recuperar Cuestionario");function d(e,a,o,d,m,w){const p=(0,t.up)("ion-icon"),f=(0,t.up)("ion-button"),k=(0,t.up)("ion-buttons"),_=(0,t.up)("ion-title"),h=(0,t.up)("ion-toolbar"),v=(0,t.up)("ion-header"),g=(0,t.up)("ion-label"),W=(0,t.up)("ion-item"),I=(0,t.up)("ion-input"),C=(0,t.up)("ion-list"),b=(0,t.up)("ion-content"),y=(0,t.up)("ion-page");return(0,t.wg)(),(0,t.j4)(y,null,{default:(0,t.w5)((()=>[(0,t.Wm)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{slot:"start"},{default:(0,t.w5)((()=>[d.curso?((0,t.wg)(),(0,t.j4)(f,{key:0,href:"cuestionarios/"+d.curso+"/"+d.area},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{icon:d.arrowBackOutline},null,8,["icon"])])),_:1},8,["href"])):(0,t.kq)("",!0),d.id?((0,t.wg)(),(0,t.j4)(f,{key:1,href:"cuestionario/"+d.cuestionario.id},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{icon:d.arrowBackOutline},null,8,["icon"])])),_:1},8,["href"])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(k,{slot:"end"},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{onClick:d.crearCuestionario},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{icon:d.checkmarkOutline},null,8,["icon"])])),_:1},8,["onClick"])])),_:1}),(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[r])),_:1})])),_:1})])),_:1}),(0,t.Wm)(b,null,{default:(0,t.w5)((()=>[null!=d.cuestionario?((0,t.wg)(),(0,t.iD)("div",i,[(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[1==d.error.estatus?((0,t.wg)(),(0,t.j4)(W,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{color:"danger"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(d.error.data),1)])),_:1})])),_:1})):(0,t.kq)("",!0),(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{position:"stacked"},{default:(0,t.w5)((()=>[n])),_:1}),(0,t.Wm)(I,{modelValue:d.cuestionario.fecha,"onUpdate:modelValue":a[0]||(a[0]=e=>d.cuestionario.fecha=e),type:"date"},null,8,["modelValue"])])),_:1}),(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,{position:"stacked"},{default:(0,t.w5)((()=>[l])),_:1}),(0,t.Wm)(I,{modelValue:d.cuestionario.tema,"onUpdate:modelValue":a[1]||(a[1]=e=>d.cuestionario.tema=e),type:"text"},null,8,["modelValue"])])),_:1}),d.id&&1==d.cuestionario.existe?((0,t.wg)(),(0,t.j4)(W,{key:1,class:"ion-text-center",button:"",color:"danger",onClick:a[2]||(a[2]=e=>d.borrarCuestionario(0))},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[s])),_:1})])),_:1})):(0,t.kq)("",!0),d.id&&0==d.cuestionario.existe?((0,t.wg)(),(0,t.j4)(W,{key:2,class:"ion-text-center",button:"",color:"success",onClick:a[3]||(a[3]=e=>d.borrarCuestionario(1))},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[c])),_:1})])),_:1})):(0,t.kq)("",!0)])),_:1})])):(0,t.kq)("",!0)])),_:1})])),_:1})}var m=o(9669),w=o.n(m),p=o(2262),f=o(2119),k=o(1853),_=o(6886),h=o(1502),v=o(8903),g={components:{IonButton:h.YG,IonButtons:h.Sm,IonIcon:h.gu,IonHeader:h.Gu,IonToolbar:h.sr,IonTitle:h.wd,IonContent:h.W2,IonPage:h._i,IonList:h.q_,IonItem:h.Ie,IonLabel:h.Q$,IonInput:h.pK},setup(){const e=(0,f.yj)(),{curso:a}=e.params,{area:o}=e.params,{id:t}=e.params,u=(0,p.iH)({id:0,curso_id:0}),r=(0,p.iH)({estatus:0,data:""});let i=(0,_.am)();return(0,h.KA)((async()=>{(0,_.rs)(),void 0!=t&&(w().create({headers:{"Access-Control-Allow-Origin":"*"}}),await w().get("/cuestionarios/"+t).then((e=>{u.value=e.data}))),void 0!=a&&void 0!=o&&(u.value={fecha:"",tema:"",usuario_id:"",curso_id:"",area_id:"",existe:1})})),{borrarCuestionario(e){u.value.existe=e,this.crearCuestionario()},async crearCuestionario(){""==u.value.fecha||""==u.value.tema?(r.value.estatus=1,r.value.data="Debe seleccionar una fecha y añadir el tema"):void 0!=a?(u.value.usuario_id=i.id,u.value.curso_id=a,u.value.area_id=o,w().create({headers:{"Access-Control-Allow-Origin":"*"}}),await w().post("/cuestionarios",u.value).then((e=>{k.Z.push("/cuestionarios/"+a+"/"+o),localStorage.setItem("error",e.data.message)})).catch((e=>{localStorage.setItem("error",e.message),r.value.estatus=1,r.value.data="Error: no se pudo añadir el cuestionario"}))):void 0!=t&&(w().create({headers:{"Access-Control-Allow-Origin":"*"}}),await w().put("/cuestionarios/"+t,u.value).then((e=>{1==u.value.existe?k.Z.push("/cuestionario/"+t):k.Z.push("/cuestionarios/"+u.value.curso_id+"/"+u.value.area_id),localStorage.setItem("error",e.data.message)})).catch((e=>{localStorage.setItem("error",e.message),r.value.estatus=1,r.value.data="Error: no se pudo actualizar el cuestionario"})))},area:o,arrowBackOutline:v.Pjk,trashOutline:v.gtu,curso:a,id:t,usuario:i,error:r,cuestionario:u,checkmarkOutline:v.TjA}}},W=o(3744);const I=(0,W.Z)(g,[["render",d]]);var C=I}}]);
//# sourceMappingURL=629.3330cb33.js.map