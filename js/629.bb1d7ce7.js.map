{"version":3,"file":"js/629.bb1d7ce7.js","mappings":"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","sources":["webpack://pandora/./src/views/CrearCuestionario.vue","webpack://pandora/./src/views/CrearCuestionario.vue?d232"],"sourcesContent":["<template>\n  <ion-page>\n    <ion-header>\n      <ion-toolbar>\n        <ion-buttons slot=\"start\">\n          <ion-button\n            v-if=\"curso\"\n            :href=\"'cuestionarios/' + curso + '/' + area\"\n          >\n            <ion-icon :icon=\"arrowBackOutline\"></ion-icon>\n          </ion-button>\n          <ion-button v-if=\"id\" :href=\"'cuestionario/' + cuestionario.id\">\n            <ion-icon :icon=\"arrowBackOutline\"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n        <ion-buttons slot=\"end\">\n          <ion-button @click=\"crearCuestionario\">\n            <ion-icon :icon=\"checkmarkOutline\"></ion-icon>\n          </ion-button>\n        </ion-buttons>\n        <ion-title>Cuestionario</ion-title>\n      </ion-toolbar>\n    </ion-header>\n    <ion-content>\n      <div v-if=\"cuestionario != null\" :fullscreen=\"true\">\n        <ion-list>\n          <ion-item v-if=\"error.estatus == 1\">\n            <ion-label color=\"danger\">{{ error.data }}</ion-label>\n          </ion-item>\n\n          <ion-item>\n            <ion-label position=\"stacked\">Fecha</ion-label>\n            <ion-input v-model=\"cuestionario.fecha\" type=\"date\"></ion-input>\n          </ion-item>\n\n          <ion-item>\n            <ion-label position=\"stacked\">Tema</ion-label>\n            <ion-input v-model=\"cuestionario.tema\" type=\"text\"></ion-input>\n          </ion-item>\n          <ion-item\n            class=\"ion-text-center\"\n            v-if=\"id && cuestionario.existe == 1\"\n            button\n            color=\"danger\"\n            @click=\"borrarCuestionario(0)\"\n          >\n            <ion-label>Borrar Cuestionario</ion-label>\n          </ion-item>\n          <ion-item\n            class=\"ion-text-center\"\n            v-if=\"id && cuestionario.existe == 0\"\n            button\n            color=\"success\"\n            @click=\"borrarCuestionario(1)\"\n          >\n            <ion-label>Recuperar Cuestionario</ion-label>\n          </ion-item>\n        </ion-list>\n      </div>\n    </ion-content>\n  </ion-page>\n</template>\n<script>\nimport axios from \"axios\";\nimport { ref } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport router from \"../router\";\n\nimport { usuarioGet, tokenHeader } from \"../globalService\";\nimport {\n  onIonViewWillEnter,\n  IonLabel,\n  IonItem,\n  IonList,\n  IonPage,\n  IonHeader,\n  IonToolbar,\n  IonTitle,\n  IonContent,\n  IonInput,\n  IonIcon,\n  IonButton,\n  IonButtons,\n} from \"@ionic/vue\";\n\nimport {\n  arrowBackOutline,\n  checkmarkOutline,\n  trashOutline,\n} from \"ionicons/icons\";\n\nexport default {\n  components: {\n    IonButton,\n    IonButtons,\n    IonIcon,\n    IonHeader,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n    IonPage,\n    IonList,\n    IonItem,\n    IonLabel,\n    IonInput,\n  },\n  setup() {\n    const mroute = useRoute();\n    const { curso } = mroute.params;\n    const { area } = mroute.params;\n    const { id } = mroute.params;\n    const cuestionario = ref({\n      id: 0,\n      curso_id: 0,\n    });\n    const error = ref({\n      estatus: 0,\n      data: \"\",\n    });\n\n    let usuario = usuarioGet();\n\n    onIonViewWillEnter(async () => {\n      tokenHeader();\n      if (id != undefined) {\n        axios.create({\n  headers: {\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n})\n\nawait axios.get(\"/cuestionarios/\" + id).then((response) => {\n          cuestionario.value = response.data;\n        });\n      }\n      if (curso != undefined && area != undefined) {\n        cuestionario.value = {\n          fecha: \"\",\n          tema: \"\",\n          usuario_id: \"\",\n          curso_id: \"\",\n          area_id: \"\",\n          existe: 1,\n        };\n      }\n    });\n\n    return {\n      borrarCuestionario(valor) {\n        cuestionario.value.existe = valor;\n        this.crearCuestionario();\n      },\n      async crearCuestionario() {\n        if (cuestionario.value.fecha == \"\" || cuestionario.value.tema == \"\") {\n          error.value.estatus = 1;\n          error.value.data = \"Debe seleccionar una fecha y añadir el tema\";\n        } else if (curso != undefined) {\n          cuestionario.value.usuario_id = usuario.id;\n          cuestionario.value.curso_id = curso;\n          cuestionario.value.area_id = area;\n          axios.create({\n  headers: {\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n})\n\nawait axios\n            .post(\"/cuestionarios\", cuestionario.value)\n            .then((response) => {\n              router.push(\"/cuestionarios/\" + curso + \"/\" + area);\n              localStorage.setItem(\"error\", response.data.message);\n            })\n            .catch((response) => {\n              localStorage.setItem(\"error\", response.message);\n              error.value.estatus = 1;\n              error.value.data = \"Error: no se pudo añadir el cuestionario\";\n            });\n        } else if (id != undefined) {\n          axios.create({\n  headers: {\n    \"Access-Control-Allow-Origin\": \"*\"\n  }\n})\n\nawait axios\n            .put(\"/cuestionarios/\" + id, cuestionario.value)\n            .then((response) => {\n              if (cuestionario.value.existe == 1) {\n                router.push(\"/cuestionario/\" + id);\n              } else {\n                router.push(\n                  \"/cuestionarios/\" +\n                    cuestionario.value.curso_id +\n                    \"/\" +\n                    cuestionario.value.area_id\n                );\n              }\n              localStorage.setItem(\"error\", response.data.message);\n            })\n            .catch((response) => {\n              localStorage.setItem(\"error\", response.message);\n              error.value.estatus = 1;\n              error.value.data = \"Error: no se pudo actualizar el cuestionario\";\n            });\n        }\n      },\n      area,\n      arrowBackOutline,\n      trashOutline,\n      curso,\n      id,\n      usuario,\n      error,\n      cuestionario,\n      checkmarkOutline,\n    };\n  },\n};\n</script>\n","import { render } from \"./CrearCuestionario.vue?vue&type=template&id=6420caa8\"\nimport script from \"./CrearCuestionario.vue?vue&type=script&lang=js\"\nexport * from \"./CrearCuestionario.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/ruben/Descargas/pandora-eprx8v/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["fullscreen","slot","curso","href","area","icon","arrowBackOutline","id","cuestionario","crearCuestionario","checkmarkOutline","error","estatus","color","data","position","fecha","type","tema","existe","class","button","borrarCuestionario","components","IonButton","IonButtons","IonIcon","IonHeader","IonToolbar","IonTitle","IonContent","IonPage","IonList","IonItem","IonLabel","IonInput","setup","mroute","params","curso_id","usuario","async","undefined","headers","then","response","value","usuario_id","area_id","valor","this","router","localStorage","setItem","message","catch","trashOutline","__exports__","render"],"sourceRoot":""}